<div class="lesson-card card h-100 shadow-sm border-0 card-hover">
    <div class="card-img-wrapper">
        <img [src]="lesson.thumbnailUrl" class="card-img-top" [alt]="lesson.title">
        <div class="overlay">
            <i [class]="'bi ' + getSubjectIcon(lesson.subject) + ' fs-1 text-white'"></i>
        </div>
    </div>

    <div class="card-body d-flex flex-column">
        <div class="d-flex justify-content-between align-items-start mb-2">
            <span class="badge" [class]="getDifficultyBadgeClass(lesson.difficulty)">
                {{ lesson.difficulty | titlecase }}
            </span>
            <span class="text-muted small">
                <i class="bi bi-clock me-1"></i>{{ lesson.estimatedMinutes }} min
            </span>
        </div>

        <h5 class="card-title fw-bold">{{ lesson.title }}</h5>
        <p class="card-text text-muted flex-grow-1"
            style="display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden;">
            {{ lesson.description }}
        </p>

        <div class="d-flex justify-content-between align-items-center mt-3">
            <span class="badge bg-light text-dark">
                <i [class]="'bi ' + getSubjectIcon(lesson.subject) + ' me-1'"></i>
                {{ lesson.subject }}
            </span>
            <a [routerLink]="['/learn', lesson.id]" class="btn btn-primary btn-sm">
                {{ i18n.t('common.start') }} <i class="bi bi-arrow-right ms-1"></i>
            </a>
        </div>
    </div>
</div>